window.calculate=function(t,r){"use strict";function a(){t=t.replace(/[ \r\n]+/g,""),t=t.replace(/-/g,"+-"),t=t.replace(/\++/g,"+");for(var a=t.match(/[A-Za-z_][A-Za-z0-9_]*/);a;){var i=a[0],o=r[i];if(void 0===o)throw new Error("表达式中的变量 "+i+" 没有被定义!");t=t.replace(i,o),a=t.match(/[A-Za-z_][A-Za-z0-9_]*/)}t=t.replace(/\+*--/g,"+"),t=t.replace(/\++/g,"+");for(var d=t.match(/\([^\(\)]*\)/);d;){var h=d[0].substr(1,d[0].length-2);t=t.replace(d[0],e(h,r)),d=t.match(/\([^\(\)]*\)/)}for(var p,g=t.match(/\-?\d+\.?\d*\/\-?\d+\.?\d*/);g;)p=g[0].split("/"),t=t.replace(g,n(p[0],p[1],10)),g=t.match(/\-?\d+\.?\d*\/\-?\d+\.?\d*/);for(var u=t.match(/\-?\d+\.?\d*\*\-?\d+\.?\d*/);u;)p=u[0].split("*"),t=t.replace(u,l(p[0],p[1])),u=t.match(/\-?\d+\.?\d*\*\-?\d+\.?\d*/);for(var m=t.match(/\-?\d+\.?\d*\+\-?\d+\.?\d*/);m;)p=m[0].split("+"),t=t.replace(m,c(p[0],p[1])),m=t.match(/\-?\d+\.?\d*\+\-?\d+\.?\d*/);return t=t.replace(/\+/g,""),t=t.replace(/--/g,""),Number(t)}var e=window.calculate,c=function(t,r){var a,e,c;try{e=t.toString().split(".")[1].length}catch(l){e=0}try{c=r.toString().split(".")[1].length}catch(l){c=0}return a=Math.pow(10,Math.max(e,c)),Number(t*a+r*a)/a},l=function(t,r){var a=0;try{a+=t.toString().split(".")[1].length}catch(e){}try{a+=r.toString().split(".")[1].length}catch(e){}return Number(t.toString().replace(".",""))*Number(r.toString().replace(".",""))/Math.pow(10,a)},n=function(t,r,a){var e,c,l=0,n=0;try{l=t.toString().split(".")[1].length}catch(i){l=0}try{n=r.toString().split(".")[1].length}catch(i){n=0}return e=Number(t.toString().replace(".","")),c=Number(r.toString().replace(".","")),Number((e/c*Math.pow(10,n-l)).toFixed(a))};return a()};